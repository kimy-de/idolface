<!DOCTYPE html>
<html>

<head>
	<!-- Meta -->
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="naver-site-verification" content="3e7a9b3e76b0fda9abc1e48dd61cbaa7cfc3859c" />
	<link href="https://fonts.googleapis.com/css?family=Jua&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<title>I am a celebrity</title>
	<meta name="title" content="I am a celebrity">
	<meta name="subject" content="AI tells you about celebrity face type.">
	<meta name="keywords" content="AI, entertainment, face type, face test, idol, entertainer, visual, singer, actor, actress, comedian, announcer, 연예인 끼, 비주얼, Idol 얼굴, actor 얼굴, Singer 얼굴, Announcer 얼굴, Comedian 얼굴, Idol, actor, Singer, Announcer, Comedian">
	<meta property="og:description" content="What is your face type?">
	<meta name="author" content="Deep Learning Bro">
	<link rel="stylesheet" href="style.css">
	<link rel="canonical" href="https://idolface.netlify.app" />
	<meta property="og:url" content="https://idolface.netlify.app" />
	<meta property="og:type" content="website" />
	<meta property="og:title" content="I Am An Entertainer" />

	<meta property="og:image" content="/thumbnail.jpg" />
	<link rel="shortcut icon" href="/favicon.ico">
	<link rel="icon" href="/favicon.ico">
	<!-- Share Link -->
	<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e96197c6a8f08f9"></script>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163951964-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());
		gtag('config', 'UA-163951964-1');
	</script>

</head>

<body>
	<nav class="p-3 container navbar navbar-expand-lg navbar-light">
		<a class="navbar-brand" href="https://idolface.netlify.app">I am an entertainer</a>
		<!--<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item active">
					 <a class="nav-link" href="#">내가 연예인이라니
                        <span class="sr-only">(current)</span>
                    </a> 
				</li>
			</ul>
		</div>-->
	</nav>
	<section class="section">
		<h1 class="title">I am an entertainer</h1>
		<h2 class="subtitle">AI model that tells your idol face type</h2>
	</section>

	<h3 class="pb-2 d-flex justify-content-center">Please select your gender</h3>
	<section class="d-flex justify-content-center">
		<p class="d-flex align-items-center pr-3 pt-4" style="font-size: 25px">Female</p>
		<!-- checkbox -->
		<div>
			<input type="checkbox" id="gender">
			<label for="gender">Gender</label>
		</div>

		<p class="d-flex align-items-center pl-3 pt-4" style="font-size: 25px">Male</p>
	</section>
	<div id="coupang" class="container d-flex justify-content-center">
		<script src="https://ads-partners.coupang.com/g.js"></script>
		<script>
			new PartnersCoupang.G({
				id: 220421
			});
		</script>
	</div>
	
	<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>

	<div class="mt-3  container file-upload">

		<div class="image-upload-wrap">
			<input class="file-upload-input" type='file' onchange="readURL(this);" accept="image/*" />
			<div class="drag-text">
				<img src="img/upload.svg" class="mt-5 pt-5 upload">
				<h3 class="mb-5 pb-5 pt-4 upload-text">Please drag and drop your photo here or press here!</h3>
			</div>
		</div>
		<div class="file-upload-content">
			<img class="file-upload-image" id="face-image" src="#" alt="your image" />
			<div id="loading" class="animated bounce">
				<div class="spinner-border" role="status">
					<span class="sr-only">AI recognition...</span>
				</div>
				<p class="text-center" style="font-size: 15px">AI is analyzing your face type...</p>
			</div>
			<p class="result-message"></p>
			<div id="label-container" class="d-flex flex-column justify-content-around"></div>
			<div id="addThis" class="addthis_inline_share_toolbox"></div>

			<div class="pt-3 image-title-wrap">
				<button type="button p-2" class="try-again-btn" onclick="gaReload1();" data-toggle="modal" data-target="#adModal">
					<span class="try-again-text">Retry with another photo</span>
				</button>
			</div>
		</div>
	</div>

	

	<div class="mt-2 container d-flex justify-content-center ad-banner">
		<ins class="kakao_ad_area" style="display:none;" data-ad-unit="DAN-qdpzogburcqf" data-ad-width="320" data-ad-height="100"></ins>

	</div>
	<!--
<script src="https://ads-partners.coupang.com/g.js"></script>
<script>
	new PartnersCoupang.G({ id:223968 });
</script>
	<script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
-->
	<footer class="footer pt-5 container d-flex justify-content-center">
		<div>
			<p>This website never store your photo.</p>
		</div>
	</footer>
	
	<footer class="footer pt-0 container d-flex justify-content-center">
		<div>
			<p>&copy; DL Bro 2020. All Rights Reserved. </p>
		</div>
	</footer>

	<!-- Modal -->
	<div class="modal fade" id="adModal" tabindex="-1" role="dialog" aria-labelledby="adModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="adModalLabel">(AD) Are you ready again?</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<!-- kakao ad-->
				<div class="modal-body d-flex justify-content-center">
					<ins class="kakao_ad_area" style="display:none;" data-ad-unit="DAN-1k201ac0lp73t" data-ad-width="300" data-ad-height="250"></ins>
				</div> 
		
				
				<div class="modal-footer d-flex justify-content-center">
					<button type="button p-2" class="try-again-btn" onclick="gaReload2();">
						<span class="try-again-text">Retry with another photo</span>
					</button>
				</div>
			</div>
		</div>
	</div>
	<script>
		function gaReload1() {
			gtag('event', 'First retry', {
				'event_category': 'Retry with another photo'
			});
		}

		function gaReload2() {
			gtag('event', 'Second retry', {
				'event_category': 'Retry with another photo'
			});
			window.location.reload();
		}
	</script>

	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>

	<script>
		function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function(e) {
					$('.image-upload-wrap').hide();
					$('#loading').show();
					$('.file-upload-image').attr('src', e.target.result);
					$('.file-upload-content').show();
					$('.image-title').html(input.files[0].name);
				};
				reader.readAsDataURL(input.files[0]);
				init().then(function() {
					predict();
					$('#loading').hide();
				});
			} else {
				removeUpload();
			}
		}

		function removeUpload() {
			$('.file-upload-input').replaceWith($('.file-upload-input').clone());
			$('.file-upload-content').hide();
			$('.image-upload-wrap').show();
		}
		$('.image-upload-wrap').bind('dragover', function() {
			$('.image-upload-wrap').addClass('image-dropping');
		});
		$('.image-upload-wrap').bind('dragleave', function() {
			$('.image-upload-wrap').removeClass('image-dropping');
		});
	</script>

	<script type="text/javascript">
		let URL;
		const urlMale = "https://teachablemachine.withgoogle.com/models/HwnvzpZFu/";
		const urlFemale = "https://teachablemachine.withgoogle.com/models/OpiGa9ZJu/";
		let model, labelContainer, class_length;
		async function init() {
			if (document.getElementById("gender").checked) {
				URL = urlMale;
			} else {
				URL = urlFemale;
			}
			const modelURL = URL + "model.json";
			const metadataURL = URL + "metadata.json";
			model = await tmImage.load(modelURL, metadataURL);
			class_length = model.getTotalClasses();
			labelContainer = document.getElementById("label-container");
			for (let i = 0; i < class_length; i++) {
				var element = document.createElement("div")
				element.classList.add("d-flex");
				labelContainer.appendChild(element);
			}
		}
		async function predict() {
			var image = document.getElementById("face-image")
			const prediction = await model.predict(image, false);
			prediction.sort((a, b) => parseFloat(b.probability) - parseFloat(a.probability));
			var resultTitle, resultShow;
			var resultComment = "Your hidden talents in your face";
			if (document.getElementById("gender").checked) {
				gtag('event', '연예인상 테스트 수행', {
					'event_category': '연예인상 테스트 수행',
					'event_label': '남자'
				});
				switch (prediction[0].className) {
					case "idol":
						resultTitle = "Natural Idol"
						resultShow = "Are you an idol? Cool. You are very attractive. You make people smile!"
						gtag('event', '남자 결과 Idol상', {
							'event_category': '남자 결과'
						});
						break;
					case "singer":
						resultTitle = "Singer"
						resultShow = "Sweet voice! You must be a wonderful singer!!"
						gtag('event', '남자 결과 Singer상', {
							'event_category': '남자 결과'
						});
						break;
					case "actor":
						resultTitle = "Actor"
						resultShow = "You have clear-cut features and talents as an actor!!"
						gtag('event', '남자 결과 actor상', {
							'event_category': '남자 결과'
						});
						break;
					case "mc":
						resultTitle = "Announcer"
						resultShow = "You look very intellectual!!"
						gtag('event', '남자 결과 Announcer상', {
							'event_category': '남자 결과'
						});
						break;
					case "comedian":
						resultTitle = "Comedian"
						resultShow = "You are the king of witty banter!!"
						gtag('event', '남자 결과 Comedian상', {
							'event_category': '남자 결과'
						});
						break;
					default:
						resultTitle = "Unknown"
						resultShow = ""
						gtag('event', '남자 결과 Unknown', {
							'event_category': '남자 결과'
						});
				}
			} else {
				gtag('event', '연예인상 테스트 수행', {
					'event_category': '연예인상 테스트 수행',
					'event_label': '여자'
				});
				switch (prediction[0].className) {
					case "idol":
						resultTitle = "Natural Idol"
						resultShow = "Are you an idol? Cool. You are very attractive. You make people smile!"
						gtag('event', '여자 결과 Idol상', {
							'event_category': '여자 결과'
						});
						break;
					case "singer":
						resultTitle = "Singer"
						resultShow = "Sweet voice! You must be a wonderful singer!!"
						gtag('event', '여자 결과 Singer상', {
							'event_category': '여자 결과'
						});
						break;
					case "actor":
						resultTitle = "Actor"
						resultShow = "You are beautiful and have talents as an actress!!"
						gtag('event', '여자 결과 actor상', {
							'event_category': '여자 결과'
						});
						break;
					case "mc":
						resultTitle = "Announcer"
						resultShow = "You look very intellectual!!"
						gtag('event', '여자 결과 Announcer상', {
							'event_category': '여자 결과'
						});
						break;
					case "comedian":
						resultTitle = "Comedian"
						resultShow = "You are the king of witty banter!!"
						gtag('event', '여자 결과 Comedian상', {
							'event_category': '여자 결과'
						});
						break;
					default:
						resultTitle = "Unknown"
						resultShow = ""
						gtag('event', '여자 결과 Unknown', {
							'event_category': '여자 결과'
						});
				}
			}
			var title = "<div class='" + prediction[0].className + "-entertainer-title'>" + resultTitle + "</div>"
			var explain = "<div class='entertainer-explain pt-2'>" + resultShow + "</div>"
			var commonComment = "<div class='" + prediction[0].className + "-entertainer-commonComment pt-2 pb-2'>" + resultComment + "</div>"
			$('.result-message').html(title + explain + commonComment);
			var potential;
			var barMention;
			for (let i = 0; i < class_length; i++) {
				if (prediction[i].probability > 0.7) {
					potential = prediction[i].probability * 100 + "%";
					barMention = "You have natural good looks!"
				} else if (prediction[i].probability >= 0.4) {
					potential = prediction[i].probability * 100 + "%";
					barMention = "Your talent is overflowing!"
				} else if (prediction[i].probability >= 0.3) {
					potential = prediction[i].probability * 100 + "%";
					barMention = "You have talents!"
				} else if (prediction[i].probability >= 0.2) {
					potential = prediction[i].probability * 100 + "%";
					barMention = ""
				} else {
					potential = "5%"
					barMention = ""
				}
				var labelTitle;
				switch (prediction[i].className) {
					case "idol":
						labelTitle = "Idol"
						break;
					case "singer":
						labelTitle = "Singer"
						break;
					case "actor":
						labelTitle = "actor"
						break;
					case "mc":
						labelTitle = "Announcer"
						break;
					case "comedian":
						labelTitle = "Comedian"
						break;
					default:
						labelTitle = "Unknown"
				}
				var label = "<div class='entertainer-label d-flex align-items-center'>" + labelTitle + "</div>"
				var bar = "<div class='bar-container position-relative container'><div class='d-flex justify-content-center align-items-center " + prediction[i].className + "-bar' style='width: " + potential + "'><span class='d-block percent-text'>" + barMention + " </span></div></div>"
				labelContainer.childNodes[i].innerHTML = label + bar;
			}
		}
	</script>

</body>
<!-- 
조코딩 https://www.youtube.com/channel/UCQNE2JmbasNYbjGAcuBiRRg

image input box
Copyright (c) 2020 by Aaron Vanston (https://codepen.io/aaronvanston/pen/yNYOXR)
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
switch button
Copyright (c) 2020 by Marcus Burnette (https://codepen.io/mburnette/pen/LxNxNg)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 -->

</html>